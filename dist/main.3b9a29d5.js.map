{"version":3,"sources":["main.js"],"names":["$addBtn","$","$siteList","hashObj","JSON","parse","localStorage","getItem","hashMap","logo","url","simplifyUrl","replace","render","find","remove","forEach","node","index","$li","insertBefore","on","e","preventDefault","splice","window","prompt","indexOf","console","log","push","toUpperCase","onbeforeunload","string","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,OAAO,GAAGC,CAAC,CAAC,SAAD,CAAjB;AACA,IAAMC,SAAS,GAAGD,CAAC,CAAC,WAAD,CAAnB,EACA;;AACA,IAAME,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAhB;AACA,IAAMC,OAAO,GAAGL,OAAO,IAAI,CAAC;AACpBM,EAAAA,IAAI,EAAE,GADc;AAEpBC,EAAAA,GAAG,EAAE;AAFe,CAAD,EAIvB;AACID,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,GAAG,EAAE;AAFT,CAJuB,CAA3B;;AAUA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,GAAD,EAAS;AACzB,SAAOA,GAAG,CAACE,OAAJ,CAAY,UAAZ,EAAwB,EAAxB,EACFA,OADE,CACM,SADN,EACiB,EADjB,EAEFA,OAFE,CAEM,MAFN,EAEc,EAFd,EAGFA,OAHE,CAGM,MAHN,EAGc,EAHd,CAAP;AAIH,CALD;;AAOA,IAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBX,EAAAA,SAAS,CAACY,IAAV,CAAe,iBAAf,EAAkCC,MAAlC;AACAP,EAAAA,OAAO,CAACQ,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC7B,QAAMC,GAAG,GAAGlB,CAAC,qDAEEgB,IAAI,CAACP,GAFP,gGAImBO,IAAI,CAACR,IAJxB,6DAKmBE,WAAW,CAACM,IAAI,CAACP,GAAN,CAL9B,oTAAD,CAaHU,YAbG,CAaUpB,OAbV,CAAZ;AAcAmB,IAAAA,GAAG,CAACE,EAAJ,CAAO,OAAP,EAAgB,QAAhB,EAA0B,UAACC,CAAD,EAAO;AAC7BA,MAAAA,CAAC,CAACC,cAAF,GAD6B,CACV;;AACnBf,MAAAA,OAAO,CAACgB,MAAR,CAAeN,KAAf,EAAsB,CAAtB;AACAL,MAAAA,MAAM;AACT,KAJD;AAKH,GApBD;AAqBH,CAvBD;;AAyBAA,MAAM;AAENZ,CAAC,CAAC,SAAD,CAAD,CACKoB,EADL,CACQ,OADR,EACiB,YAAM;AACf,MAAIX,GAAG,GAAGe,MAAM,CAACC,MAAP,CAAc,YAAd,CAAV;;AACA,MAAIhB,GAAG,CAACiB,OAAJ,CAAY,OAAZ,MAAyB,CAA7B,EAAgC;AAC5BjB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACH;;AACDkB,EAAAA,OAAO,CAACC,GAAR,CAAYnB,GAAZ;AACAF,EAAAA,OAAO,CAACsB,IAAR,CAAa;AACTrB,IAAAA,IAAI,EAAGE,WAAW,CAACD,GAAD,CAAX,CAAiB,CAAjB,CAAD,CAAsBqB,WAAtB,EADG;AAETrB,IAAAA,GAAG,EAAEA;AAFI,GAAb;AAIAG,EAAAA,MAAM;AACT,CAZL,GAcA;;AACAY,MAAM,CAACO,cAAP,GAAwB,YAAM;AAC1B,MAAMC,MAAM,GAAG7B,IAAI,CAAC8B,SAAL,CAAe1B,OAAf,CAAf;AACAoB,EAAAA,OAAO,CAACC,GAAR,CAAYI,MAAZ;AACA3B,EAAAA,YAAY,CAAC6B,OAAb,CAAqB,MAArB,EAA6BF,MAA7B,EAH0B,CAGW;AACxC,CAJD","file":"main.3b9a29d5.js","sourceRoot":"..\\src","sourcesContent":["const $addBtn = $('.addBtn')\r\nconst $siteList = $('.siteList')\r\n//使用localStorage防止数据丢失\r\nconst hashObj = JSON.parse(localStorage.getItem('info'))\r\nconst hashMap = hashObj || [{\r\n        logo: 'B',\r\n        url: 'https://bilibili.com'\r\n    },\r\n    {\r\n        logo: 'T',\r\n        url: 'https://taobao.com'\r\n    },\r\n]\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '')\r\n}\r\n\r\nconst render = () => {\r\n    $siteList.find('li:not(.addBtn)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`\r\n            <li>\r\n            <a href=\"${node.url}\">\r\n                <div class=\"site\">\r\n                    <div class=\"logo\">${node.logo}</div>\r\n                    <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                    <div class=\"close\">\r\n                        <svg class=\"icon\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </a>\r\n        </li> `).insertBefore($addBtn)\r\n        $li.on('click', '.close', (e) => {\r\n            e.preventDefault() //preventDefault()阻止a标签跳转，但不阻止冒泡\r\n            hashMap.splice(index, 1)\r\n            render()\r\n        })\r\n    })\r\n}\r\n\r\nrender()\r\n\r\n$('.addBtn')\r\n    .on('click', () => {\r\n        let url = window.prompt('你想添加的网址是啥？')\r\n        if (url.indexOf('https') !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n        console.log(url)\r\n        hashMap.push({\r\n            logo: (simplifyUrl(url)[0]).toUpperCase(),\r\n            url: url\r\n        })\r\n        render()\r\n    })\r\n\r\n// 离开页面时记录当前数据\r\nwindow.onbeforeunload = () => {\r\n    const string = JSON.stringify(hashMap)\r\n    console.log(string)\r\n    localStorage.setItem('info', string) //key:value形式\r\n}"]}